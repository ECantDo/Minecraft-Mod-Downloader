import os.pathimport requestsimport sysdef last_index_of(string: str, substring: str) -> int:    index_of = string.find(substring, 0)    test_index = index_of    while test_index != -1:        test_index = string.find(substring, index_of + 1)        if test_index != -1:            index_of = test_index    return index_ofexe_location = sys.executablefile_location = exe_location[:1 + last_index_of(exe_location, "\\")]if exe_location.endswith("python.exe"):    file_location += "testFolder\\"download_path = file_locationprint(f"download path: {download_path}")# download_path = "E:\\mod downloading\\"download_types = ["mods", "resourcepacks", "shaderpacks"]urls = [    {"url": "https://www.twitch.tv/shadow55fire",     "name": "Shadow55Fire's twitch",     "type": "website"},    {"url": "https://cdn.modrinth.com/data/zV5r3pPn/versions/M8d2bZuk/3dskinlayers-fabric-1.5.4-mc1.20.1.jar",     "name": "3d skin layers",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/P7dR8mSH/versions/znrh6Yyo/fabric-api-0.89.3%2B1.20.1.jar",     "name": "fabric api",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/7zlUOZvb/versions/vGhaJNWP/azurelib-fabric-1.20.1-1.0.33.jar",     "name": "azure lib",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/9s6osm5g/versions/s7VTKfLA/cloth-config-11.1.106-fabric.jar",     "name": "cloth config",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/1IjD5062/versions/Z9FJWLMt/continuity-3.0.0-beta.4%2B1.20.1.jar",     "name": "continuity",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/NNAgCjsB/versions/d20sUcYn/entityculling-fabric-1.6.2-mc1.20.jar",     "name": "entity culling",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/WuGVWUF2/versions/lUvYDpG6/FogLooksGoodNow-1.2.0%2B1.20.jar",     "name": "fog looks good now",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/2kXK3iBI/versions/CP5mKCvh/gigeresque-1.20.1-0.5.56.jar",     "name": "gigersque",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/Orvt0mRa/versions/Lue6O9z9/indium-1.0.27%2Bmc1.20.1.jar",     "name": "indium",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/YL57xq9U/versions/P8R7yx6t/iris-mc1.20.1-1.6.9.jar",     "name": "iris",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/gvQqBUqZ/versions/ZSNsJrPI/lithium-fabric-mc1.20.1-0.11.2.jar",     "name": "lithium",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/rWSwwjTs/versions/w3JyC0ek/mobsunscreen-fabric-1.20.1-3.1.1.jar",     "name": "mob sunscreen",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/k5jeNqWg/versions/gF2Deboo/Nyctophobia_1.9_%28FABRIC%29_for_1.20%2B.jar",     "name": "nyctophobia",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/1bokaNcj/versions/iztrg4XH/Xaeros_Minimap_23.8.2_Fabric_1.20.jar",     "name": "xaeros minimap",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/NcUtCpym/versions/L8OA3xGI/XaerosWorldMap_1.34.1_Fabric_1.20.jar",     "name": "xaeros worldmap",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/PuyPazRT/versions/blvJQFdb/SmartBrainLib-fabric-1.20.1-1.12.jar",     "name": "smart brain lib",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/AANobbMI/versions/4OZL6q9h/sodium-fabric-mc1.20.1-0.5.3.jar",     "name": "sodium",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/qyVF9oeo/versions/67Uq017p/soundphysics-fabric-1.20.1-1.2.1.jar",     "name": "sound physics remastered",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/kkmrDlKT/versions/CMDA8IcP/TerraBlender-fabric-1.20.1-3.0.0.169.jar",     "name": "terra blender",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/p1WH6sHr/versions/JTd3TFcc/From-The-Fog-1.20-v1.9.2-Forge-Fabric.jar",     "name": "from the fog mod",     "type": download_types[0]},    {"url": "https://github.com/LunarEclipseStudios/From-The-Fog/releases/download/v1.9.2-1.20/"            "From-The-Fog-1.20-v1.9.2-Data-Resource-Pack.zip.zip",     "name": "from the fog resource",     "type": download_types[1]},    {"url": "https://cdn.modrinth.com/data/fM515JnW/versions/ohMKnW3z/AmbientSounds_FABRIC_v5.2.22_mc1.20.1.jar",     "name": "ambient sounds",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/wDF3M2aD/versions/MZGNjPkc/WaterPlayer-1.0.0.jar",     "name": "water player",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/R6NEzAwj/versions/YWBtNYH3/ComplementaryShaders_v4.7.1.zip",     "name": "complementary shaders",     "type": download_types[2]},    {"url": "https://cdn.modrinth.com/data/OsZiaDHq/versions/jQhcsIZs/CreativeCore_FABRIC_v2.10.28_mc1.20.1.jar",     "name": "creative core lib",     "type": download_types[0]},    {        "url": "https://cdn.modrinth.com/data/DKbpemo9/versions/wh7fc9lF/ECanDo%27s%20Just%20Connected%20%280.2%29%201.19.4.zip",        "name": "ecandos just connected",        "type": download_types[1]},    {"url": "https://cdn.modrinth.com/data/hvFnDODi/versions/0.1.3/lazydfu-0.1.3.jar",     "name": "lazy dfu",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/n382wpVP/versions/mFCWfYtk/manic-1.1.0.jar",     "name": "manic",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/zliP2NTL/versions/zcNJuqFP/sanguine-0.4.0.jar",     "name": "sanguine",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/5fXlzTiy/versions/Y2qc44qz/oretastic-1.2.jar",     "name": "oretastic",     "type": download_types[0]},    {"url": "https://github.com/CodeCraftPlugin/registry-lib/releases/download/1.20.1-1.0.0/registry-lib-1.20.1-1.0.0.jar",     "name": "registry lib",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/8BmcQJ2H/versions/oPgOSBzN/geckolib-fabric-1.20.1-4.2.3.jar",     "name": "gecko lib",     "type": download_types[0]},    {"url": "https://cdn.modrinth.com/data/tPLE214j/versions/McOXQE2j/betterdays-1.20.1-3.1.0.2-FABRIC.jar",     "name": "better days",     "type": download_types[0]}]for path in download_types:    path += "\\"    if not os.path.exists(download_path + path):        os.makedirs(download_path + path)        print("Made Directory")for url_dic in urls:    # print(url_dic)    if not download_types.__contains__(url_dic["type"]):        continue    file_name = url_dic['url'][last_index_of(url_dic['url'], "/") + 1:]    file_download_path = download_path + url_dic["type"] + "\\" + file_name    if os.path.exists(file_download_path):        print("Skipping ", file_name)        continue    try:        print(f"getting response for {url_dic['url']}")        response = requests.get(url=url_dic['url'], timeout=5)        response.raise_for_status()    except requests.exceptions.RequestException as e:        print(f"failed to get a response")        print(e)        continue    if response.status_code == 200:        print(f"downloading: '{url_dic['name']}' from: {url_dic['url']}")        with open(file_download_path, 'wb') as file:            file.write(response.content)print("Finished")print("Press enter to exit")input()sys.exit(0)